<Page
    x:Class="Chefs.Views.SearchPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:android="http://uno.ui/android"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:data="using:Chefs.Business.Models"
    xmlns:ios="http://uno.ui/ios"
    xmlns:local="using:Chefs.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    xmlns:uen="using:Uno.Extensions.Navigation.UI"
    xmlns:uer="using:Uno.Extensions.Reactive.UI"
    xmlns:um="using:Uno.Material"
    xmlns:utu="using:Uno.Toolkit.UI"
    utu:StatusBar.Background="{ThemeResource SurfaceInverseBrush}"
    utu:StatusBar.Foreground="AutoInverse"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    NavigationCacheMode="Enabled"
    mc:Ignorable="d android ios">

    <utu:AutoLayout Background="{ThemeResource BackgroundBrush}">
        <utu:AutoLayout.Resources>
            <x:String x:Key="Icon_Refresh">F1 M 10.229999948994218 1.7624999284744263 C 9.142499869991036 0.6749998927116394 7.650000161122648 0 5.992500066608094 0 C 2.677499877578985 0 0 2.684999942779541 0 6 C 0 9.315000057220459 2.677499877578985 12 5.992500066608094 12 C 8.790000192145394 12 11.122499937989536 10.087500035762787 11.789999953801354 7.5 L 10.229999948994218 7.5 C 9.614999929905448 9.247499942779541 7.9500000657626675 10.5 5.992500066608094 10.5 C 3.510000010816059 10.5 1.4924998876823286 8.482499957084656 1.4924998876823286 6 C 1.4924998876823286 3.5175000429153442 3.510000010816059 1.5 5.992500066608094 1.5 C 7.237500091076937 1.5 8.34749961307525 2.0175001323223114 9.157499677468397 2.835000157356262 L 6.742500096429055 5.25 L 11.992500305175781 5.25 L 11.992500305175781 0 L 10.229999948994218 1.7624999284744263 Z</x:String>
            <x:String x:Key="Icon_Search">F1 M 12.5 11 L 11.710000038146973 11 L 11.430000305175781 10.729999542236328 C 12.410000324249268 9.589999556541443 13 8.110000014305115 13 6.5 C 13 2.9100000858306885 10.089999914169312 0 6.5 0 C 2.9100000858306885 0 0 2.9100000858306885 0 6.5 C 0 10.089999914169312 2.9100000858306885 13 6.5 13 C 8.110000014305115 13 9.589999556541443 12.410000324249268 10.729999542236328 11.430000305175781 L 11 11.710000038146973 L 11 12.5 L 16 17.489999771118164 L 17.489999771118164 16 L 12.5 11 L 12.5 11 Z M 6.5 11 C 4.009999990463257 11 2 8.990000009536743 2 6.5 C 2 4.009999990463257 4.009999990463257 2 6.5 2 C 8.990000009536743 2 11 4.009999990463257 11 6.5 C 11 8.990000009536743 8.990000009536743 11 6.5 11 Z</x:String>
            <x:String x:Key="Icon_Tune">F1 M 0 10.5 L 0 12 L 4.5 12 L 4.5 10.5 L 0 10.5 Z M 0 1.5 L 0 3 L 7.5 3 L 7.5 1.5 L 0 1.5 Z M 7.5 13.5 L 7.5 12 L 13.5 12 L 13.5 10.5 L 7.5 10.5 L 7.5 9 L 6 9 L 6 13.5 L 7.5 13.5 Z M 3 4.5 L 3 6 L 0 6 L 0 7.5 L 3 7.5 L 3 9 L 4.5 9 L 4.5 4.5 L 3 4.5 Z M 13.5 7.5 L 13.5 6 L 6 6 L 6 7.5 L 13.5 7.5 Z M 9 4.5 L 10.5 4.5 L 10.5 3 L 13.5 3 L 13.5 1.5 L 10.5 1.5 L 10.5 0 L 9 0 L 9 4.5 Z</x:String>
            <x:String x:Key="Icon_Star_Outline">F0 M 8.76647686958313 6.75 L 7.5 2.5805286169052124 L 6.23352313041687 6.75 L 2.3421998620033264 6.75 L 5.511701703071594 9.011731624603271 L 4.280738711357117 12.987477779388428 L 7.499632358551025 10.540700912475586 L 10.727688074111938 12.99047040939331 L 9.495927572250366 9.012149333953857 L 12.660884857177734 6.75 L 8.76647686958313 6.75 Z M 15 6 L 10.372499942779541 9.307499885559082 L 12.135000228881836 15 L 7.5 11.482499599456787 L 2.872499942779541 15 L 4.635000228881836 9.307499885559082 L 0 6 L 5.677499771118164 6 L 7.5 0 L 9.322500228881836 6 L 15 6 Z</x:String>
            <x:String x:Key="Icon_Notifications_None">F1 M 8 19.5 C 9.100000023841858 19.5 10 18.600000023841858 10 17.5 L 6 17.5 C 6 18.600000023841858 6.899999976158142 19.5 8 19.5 Z M 14 13.5 L 14 8.5 C 14 5.430000066757202 12.369999885559082 2.8599998354911804 9.5 2.179999828338623 L 9.5 1.5 C 9.5 0.6700000166893005 8.8299999833107 0 8 0 C 7.1700000166893005 0 6.5 0.6700000166893005 6.5 1.5 L 6.5 2.179999828338623 C 3.640000104904175 2.8599998354911804 2 5.420000076293945 2 8.5 L 2 13.5 L 0 15.5 L 0 16.5 L 16 16.5 L 16 15.5 L 14 13.5 Z M 12 14.5 L 4 14.5 L 4 8.5 C 4 6.019999980926514 5.509999990463257 4 8 4 C 10.490000009536743 4 12 6.019999980926514 12 8.5 L 12 14.5 Z</x:String>
            <x:String x:Key="Icon_Person_Outline">F1 M 8 1.9000000953674316 C 9.159999966621399 1.9000000953674316 10.100000381469727 2.840000033378601 10.100000381469727 4 C 10.100000381469727 5.159999966621399 9.159999966621399 6.100000381469727 8 6.100000381469727 C 6.840000033378601 6.100000381469727 5.899999618530273 5.159999966621399 5.899999618530273 4 C 5.899999618530273 2.840000033378601 6.840000033378601 1.9000000953674316 8 1.9000000953674316 Z M 8 10.899999618530273 C 10.97000002861023 10.899999618530273 14.100000381469727 12.360000014305115 14.100000381469727 13 L 14.100000381469727 14.100000381469727 L 1.9000000953674316 14.100000381469727 L 1.9000000953674316 13 C 1.9000000953674316 12.360000014305115 5.0299999713897705 10.899999618530273 8 10.899999618530273 Z M 8 0 C 5.789999961853027 0 4 1.7899999618530273 4 4 C 4 6.210000038146973 5.789999961853027 8 8 8 C 10.210000038146973 8 12 6.210000038146973 12 4 C 12 1.7899999618530273 10.210000038146973 0 8 0 Z M 8 9 C 5.329999923706055 9 0 10.339999914169312 0 13 L 0 16 L 16 16 L 16 13 C 16 10.339999914169312 10.670000076293945 9 8 9 Z</x:String>
			<DataTemplate x:Key="EmptyTemplate">
                <utu:AutoLayout
                    Height="492"
                    Padding="16,0,16,16"
                    Background="{ThemeResource BackgroundBrush}">
                    <utu:AutoLayout
                        Padding="32,0"
                        utu:AutoLayout.PrimaryAlignment="Stretch"
                        PrimaryAxisAlignment="Center"
                        Spacing="24">
                        <utu:AutoLayout
                            Width="72"
                            Height="72"
                            utu:AutoLayout.CounterAlignment="Center">
                            <utu:AutoLayout
                                Margin="3,0,-3,0"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                utu:AutoLayout.IsIndependentLayout="True"
                                PrimaryAxisAlignment="Center">
                                <Path
                                    Width="72"
                                    Height="72"
                                    utu:AutoLayout.CounterAlignment="Center"
                                    Data="F1 M 46.026695699401195 6.483179538579796 C 47.260385488924285 4.55698524692312 48.49898908335015 2.630790810851195 49.78346821596804 0.7318540312265566 C 50.017754575218135 0.38507849963722884 50.46994325663908 0.16550468108595712 50.65344027279437 0.021645835512265284 C 52.01164585355426 -0.011668844752851588 52.59981993340137 0.9635425946683688 52.031306854296126 1.896353624039735 C 51.34974653647768 3.013909739954989 50.612483539402 4.101180028243772 49.89815585053558 5.202078783718073 C 49.35094155089301 6.044031608133775 48.815192796023574 6.890526725422065 48.25159481085702 7.721879398246683 C 47.76500004218663 8.439659296824816 47.0473966786935 8.63651890937988 46.38385833292188 8.268543110712198 C 45.73506530802802 7.908138823106852 45.56959313495409 7.199445171049273 46.0283356655769 6.483179538579796 L 46.026695699401195 6.483179538579796 Z M 66.1998996270702 14.59379070905449 C 64.7450304149977 14.917851707456808 63.29507688278929 15.261598201375449 61.84348447813264 15.597773617477506 C 59.89055194486614 16.049036110038514 57.932702794254865 16.489699317499948 55.984685315865356 16.959133436610564 C 55.22448341690452 17.142364184838172 54.86732135954383 17.64965409017365 54.95743150297525 18.291718805920794 C 55.040988178056324 18.888354455293918 55.598031259355274 19.338103371949625 56.302528760344316 19.33356046108131 C 56.38608543542539 19.31690312094875 56.518793899485196 19.294189860421135 56.65150156278027 19.263903786837442 C 60.057665060658124 18.482523123128058 63.46546571226968 17.70719894619229 66.86999080643962 16.913703864783166 C 67.73832492829835 16.710787169741575 68.1364488849605 16.1141513579013 67.95131350415897 15.403942934281691 C 67.77600831123483 14.730077835968924 67.0829789916833 14.395416613767896 66.1998996270702 14.592276081907709 L 66.1998996270702 14.59379070905449 Z M 53.45504748964552 12.242077315175436 C 53.99406996605695 11.972531268629567 54.39710747372085 11.819586131405554 54.7395259972763 11.590926280700115 C 59.31220606074999 8.536575793744728 63.875055076989035 5.471624360914378 68.43954343441666 2.406673794575532 C 68.63778575191887 2.2734150735150647 68.84913558228173 2.143185047139063 68.99822691156994 1.9690401302381657 C 69.39471154657434 1.5041489177649499 69.44058657696435 0.9847427534352857 69.06048562748393 0.5047084827335843 C 68.65744753389461 -0.005611832217463419 68.09057442096505 -0.12827026629754984 67.4647185401801 0.13370426918598322 C 67.2206019735218 0.23667691891924503 67.00269707327911 0.39870729175705993 66.78151763119885 0.5455947507816395 C 63.098470469046575 3.015423933856018 59.415424244374954 5.488281504732456 55.7340154859306 7.959625026123114 C 54.78540145734494 8.595632533020387 53.836786413155224 9.231641411862539 52.89144911386202 9.872191861501026 C 52.36717191926666 10.22653890415269 52.13779985319053 10.74140187301445 52.419598845773805 11.260808037344114 C 52.62439462186092 11.637869649286602 53.081499998750026 11.899844365289198 53.45504748964552 12.240562688028657 L 53.45504748964552 12.242077315175436 Z M 71.19036169878996 62.701705101234445 C 65.26111461451107 57.23204045526875 59.312204810775775 51.78205787495719 53.41736326688262 46.2821070403269 C 51.77899705818567 44.754174627691064 49.965326027650676 43.75624891006601 47.46845596309576 43.887993328914014 C 47.366877257375315 43.37313007122175 47.23089546239046 42.93247087128352 47.199766504815834 42.48575128535991 C 47.09982616374162 41.025962508388915 46.66238118213811 39.58131725899598 47.47501082790167 38.12304282034127 C 48.10414343797909 36.99185802061762 48.487522562034655 35.7380132614278 48.91513612531741 34.52051312728208 C 49.136315567397666 33.8890484909184 48.733275891809726 33.41355530361157 48.21719052044551 33.61950060307809 C 47.971435589140974 33.717930337148 47.781384313636025 34.0329060638327 47.663421941922444 34.287309070201985 C 46.89175145137631 35.946985883633914 46.30357795745462 37.69600721357385 45.36970924974672 39.27088295869236 C 40.50048498999708 47.47083749035306 29.888787293762064 51.848690782687015 19.99469385943915 49.83012401996602 C 7.320292768961641 47.246722062645155 -0.6143156109905232 36.224103585657375 1.7203562364026241 24.44736455646675 C 3.494706827921674 15.49934422639382 11.255646602288827 8.57443251866872 21.26606388743232 7.011671191249951 C 30.780056411336517 5.526139240563202 40.76426548702433 10.008479999322212 45.48603685048996 17.88437306323103 C 47.51105742819055 21.261270101961017 48.526841135854696 24.87288264778237 48.4776901476407 28.73587131047918 C 48.47277504912447 29.18107659419032 48.482607038417335 29.670198515230357 49.129761698664964 29.674741426098674 C 49.790023315144126 29.67928433696699 49.791660647096805 29.182592196140043 49.768723520077394 28.741929819066304 C 49.7097423342206 27.63648812085079 49.71629620295331 26.52044641545944 49.55409794672985 25.42711920715129 C 47.67489186160535 12.776626321110712 35.0201477094535 3.9830640224255704 21.33487496820378 5.79568553983576 C 7.611919254165384 7.614364266095818 -1.8348984638129338 19.444106291678246 0.3015310660780121 32.140027594224215 C 2.8131464515106877 47.06651869131285 20.327281999808754 55.75104935330209 35.22494598548905 49.421260184163465 C 37.37775923996568 48.50662078134171 39.412606802484696 49.15171467917478 41.48841680140347 49.331916822977455 C 41.711234608129956 51.79720327993349 42.10444479895102 52.82692965090277 43.172659563896495 53.9126853842524 C 43.48886423358143 54.23371774212597 43.8394744045904 54.53052184226107 44.28347165339714 54.201917937221346 C 44.73566072543503 53.86574252111929 44.491548162600395 53.506853293906474 44.18517368079283 53.161592064529614 C 42.26009338557392 50.99916648331279 42.414097240494414 48.14015726307298 44.5357814495076 46.366907675394565 C 46.72791545549373 44.534600193118486 49.765445775180886 44.64211604734561 51.96413323975193 46.665225680600194 C 58.035918634178174 52.25149177744493 64.08804568405776 57.855929934085026 70.16802278453007 63.436138677664644 C 70.63004204444533 63.86014369429743 70.67263577532462 64.20389101860376 70.343324168939 64.67635374213931 C 68.71151141882697 67.02352440990002 66.62259903389493 68.94669363530541 64.08640821783051 70.45796861529266 C 63.56376938788138 70.76991515989143 63.18694516769341 70.74568556631189 62.6937969404381 70.28685156268854 C 57.89174567024555 65.8105700345929 53.05364545606247 61.36457180685686 48.22538035153025 56.911004775844425 C 48.07137392830335 56.7686602324832 47.94194539659494 56.55514323240933 47.75681001579342 56.49911399639232 C 47.458627357217004 56.408255773384745 47.12276110086479 56.42037316287956 46.803279682356546 56.3885727870834 C 46.819663344687655 56.700519331682166 46.78689822334914 57.02609517385414 46.872093263076444 57.32138439411577 C 46.92124425129044 57.48947210216679 47.16044431778907 57.61212847832956 47.31608910566219 57.754473021690785 C 52.201697089997516 62.2625550767673 57.08730726178772 66.7706365541828 61.97127684241512 71.27871860925931 C 62.859271340028606 72.09947120270047 63.34095117100709 72.22213072892089 64.42391125683032 71.63458089282257 C 67.4221212937483 70.00670446195628 69.82068807330849 67.79884887566631 71.58520855507355 65.03221602570258 C 72.24547017155271 63.997946639784466 72.11931355478292 63.55728350453066 71.19363663124447 62.70321626241522 L 71.19036169878996 62.701705101234445 Z M 24.31834093421823 36.28467596298656 C 23.44017662448212 36.27104722953543 22.74878580629274 36.86010950398689 22.70782665107532 37.655118923712294 C 22.665229131211667 38.49858608644428 23.315660911368703 39.164883182534 24.213485596859563 39.19668355833016 C 25.127693928812718 39.22848393412632 25.8387435749372 38.6227597343581 25.8633190690442 37.788378384900916 C 25.889532927797426 36.94491122216893 25.22435584141077 36.2983046964377 24.316700968042532 36.28467596298656 L 24.31834093421823 36.28467596298656 Z M 28.52074925954652 28.457239992215698 C 29.431680862207216 27.226111102053956 29.99364128105092 25.881409004399977 30.01657840807033 24.361048138930293 C 29.95595885756731 23.88707107707846 29.94449039293252 23.404008129744202 29.82980476027682 22.943659823908387 C 29.185926829321645 20.38145802535444 26.651373752916346 18.91864201590339 23.718698301847525 19.391104739438944 C 20.936752554478563 19.83933862757502 18.87896526977881 22.36671050043928 19.245959302089393 24.88651169262889 C 19.33934617481327 25.528576408376033 19.758767944161153 25.89503931513643 20.43377480339468 25.93138260208297 C 21.107143337043674 25.969240193498464 21.595374995781334 25.66032124241788 21.74938141900823 25.028856606054195 C 21.837853197793418 24.66239510959898 21.82966286378937 24.277761445036965 21.89683587776002 23.90675704194435 C 22.14422917371079 22.534797865504085 23.528648784118825 21.564130490298762 25.02775380257782 21.700417815784164 C 26.536689087037576 21.836705141269565 27.495132912883673 22.78768788745007 27.331296292013977 24.291391464686427 C 27.228079221647302 25.231774041223943 26.826678809124562 26.17518493335589 26.385958289610276 27.04288093148735 C 26.033709539115755 27.736431994666006 25.414408327828237 28.313380523851237 24.922898465219152 28.946359426323575 C 23.96936930363311 30.172945445951726 23.31729908070646 31.507047897467995 23.153462459836764 33.02892310125396 C 23.05024538947009 33.98596303823243 23.410685435862884 34.58411323351875 24.210208164456606 34.706771830065996 C 25.009730893050328 34.82943042661324 25.59135198305285 34.35696776625936 25.719144542643807 33.398413563172234 C 25.869874236578244 32.27025736787352 26.307318036565494 31.26173122787879 27.029837509601364 30.34860609116569 C 27.527900830795364 29.718655793118284 28.047263009575428 29.1023333845954 28.52238922572222 28.457239992215698 L 28.52074925954652 28.457239992215698 Z M 7.4890442884615505 20.072541384917862 C 7.649604180038787 19.66822229704715 7.747906097874231 19.268445772827622 7.254757870618918 19.135187051767154 C 7.010641303960606 19.068557691236922 6.623986876364424 19.3381041981064 6.353656455835598 19.521334946334008 C 6.196373303316244 19.628850502704672 6.137392215113688 19.86356627154868 6.044005342389813 20.045282717563822 C 4.902064129302333 22.247080228512424 4.210672490817377 24.55790807641967 4.004238350084029 26.997451359659955 C 3.050709188497987 38.28204170044914 12.687579568671394 47.90847064698056 25.145716369599874 47.87364166224649 C 25.68146211671884 47.843355588662796 26.449855252985405 47.83426994913759 27.208418826361704 47.75552616188167 C 39.039061069365445 46.51834006287006 47.37998731901155 36.510306884332756 45.62857391066309 25.66335020788094 C 43.5118047565269 12.546451518324176 27.868681458444918 5.209651341790974 15.158236111380202 11.436467816066575 C 13.375693657568311 12.310221023047903 11.832352832722826 13.60797913835058 10.220200458365547 14.761878507365049 C 10.02851161897911 14.89816583285045 10.113706956551834 15.36305688285651 10.06947106715924 15.675003427455277 C 10.406974496776003 15.65380317617234 10.744477301405658 15.64471684616172 11.078704001729964 15.602316343595845 C 11.167175780515151 15.590201914613665 11.240902458144612 15.473601224171171 11.31954403440429 15.40545756142847 C 15.95120538138901 11.444039218817473 21.41187962998263 9.850991630526483 27.66224696615632 10.58088601901198 C 38.44597330180065 11.840786615106785 46.23968052533917 21.65801749825033 44.29330145065758 31.505533992397467 C 42.317431734220484 41.50902357832493 32.674008598572655 47.909986070667706 21.78378820936818 46.44565442316313 C 10.93452697538113 44.987379984508415 3.2997413178353194 34.935430850383746 5.61966784435071 25.04248478440921 C 6.017790844001342 23.3404075090282 6.832059401274849 21.720103780650053 7.4890442884615505 20.072541384917862 Z M 15.884033641806138 17.19687790916499 C 16.26741132057901 16.96216084960968 16.69010932118275 16.727444439923 16.408310328599473 16.253467378071168 C 16.10193584679191 15.735575515953972 15.631724041004153 15.917291835605766 15.217217394891229 16.171694841975057 C 11.511232893321573 18.45223621238721 9.491127136127817 21.668617866464288 8.948827930423935 25.985897626147043 C 9.102834353650831 26.12824216950827 9.368249729068088 26.373559082798206 9.633665055658227 26.617361973680225 C 9.851567768446026 26.352358833771756 10.072747757390003 26.08886851581944 10.285735356708267 25.820836771486036 C 10.311949215461492 25.786007786751963 10.29228912168335 25.72240768277178 10.298842586371656 25.672435660117618 C 10.783798990395823 22.074450137329276 12.589279096118643 19.215444671885983 15.884033641806138 17.19687790916499 Z"
                                    Fill="{ThemeResource OnSurfaceBrush}" />
                            </utu:AutoLayout>
                        </utu:AutoLayout>
                        <TextBlock
                            Foreground="{ThemeResource OnSurfaceBrush}"
                            Style="{StaticResource TitleLarge}"
                            Text="No Results Found"
                            TextAlignment="Center"
                            TextWrapping="Wrap" />
                        <TextBlock
                            Foreground="{ThemeResource OnSurfaceBrush}"
                            Style="{StaticResource TitleMedium}"
                            Text="We couldn't find any recipes matching your search. Try adjusting your keywords or filters, or explore our popular categories to discover something delicious!"
                            TextAlignment="Center"
                            TextWrapping="Wrap" />
                        <Button
                            Padding="12,10,16,10"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            utu:AutoLayout.CounterAlignment="Center"
                            Command="{Binding SearchPopular}"
                            Content="View popular recipes"
                            CornerRadius="4"
                            Foreground="{ThemeResource PrimaryBrush}"
                            Style="{StaticResource TextButtonStyle}">
                            <um:ControlExtensions.Icon>
                                <PathIcon Data="{StaticResource Icon_Star_Outline}" Foreground="{ThemeResource PrimaryBrush}" />
                            </um:ControlExtensions.Icon>
                        </Button>
                    </utu:AutoLayout>
                </utu:AutoLayout>
            </DataTemplate>
            <DataTemplate x:Key="RecipeTemplate">
                <utu:AutoLayout>
                    <utu:CardContentControl
                        x:Name="RecipeTemplateCard"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"
                        Background="{ThemeResource SurfaceBrush}"
                        Style="{StaticResource FilledCardContentControlStyle}">
                        <utu:CardContentControl.ContentTemplate>
                            <!--  Using x:DataType along with x:Bind to avoid freezing/crashing on Windows  -->
                            <!--  Github issue: https://github.com/microsoft/microsoft-ui-xaml/issues/6689  -->
                            <DataTemplate x:DataType="data:Recipe">
                                <utu:AutoLayout
                                    HorizontalAlignment="Stretch"
                                    Background="{ThemeResource SurfaceBrush}"
                                    CornerRadius="4"
                                    PrimaryAxisAlignment="Center">
                                    <utu:AutoLayout CornerRadius="4">
                                        <Border Height="144">
                                            <Image HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"
                                                   Source="{x:Bind ImageUrl}"
                                                   Stretch="UniformToFill" />
                                        </Border>
                                        <utu:AutoLayout
                                            Padding="16"
                                            PrimaryAxisAlignment="Center"
                                            Spacing="4">
                                            <TextBlock
                                                Foreground="{ThemeResource OnSurfaceBrush}"
                                                Style="{StaticResource TitleSmall}"
                                                Text="{x:Bind Name}"
                                                TextWrapping="Wrap" />
                                            <TextBlock
                                                Foreground="{ThemeResource OnSurfaceLowBrush}"
                                                Style="{StaticResource CaptionMedium}"
                                                Text="{x:Bind TimeCal}"
                                                TextWrapping="Wrap" />
                                        </utu:AutoLayout>
                                    </utu:AutoLayout>
                                </utu:AutoLayout>
                            </DataTemplate>
                        </utu:CardContentControl.ContentTemplate>
                    </utu:CardContentControl>
                </utu:AutoLayout>
            </DataTemplate>
        </utu:AutoLayout.Resources>

        <utu:AutoLayout utu:AutoLayout.PrimaryAlignment="Stretch">

            <utu:NavigationBar
                x:Name="NavBar"
                Background="{ThemeResource SurfaceInverseBrush}"
                Style="{StaticResource PrimaryNavigationBarStyle}">
                <utu:NavigationBar.Content>
                    <utu:AutoLayout Padding="12,6,0,6" Orientation="Horizontal">
                        <Image Source="{ThemeResource ChefsLogoWithIconInverse}"
							   Stretch="Uniform"
							   utu:AutoLayout.CounterAlignment="Center" />
                    </utu:AutoLayout>
                </utu:NavigationBar.Content>
                <utu:NavigationBar.PrimaryCommands>
                    <AppBarButton Command="{Binding ShowCurrentProfile}" Foreground="{ThemeResource OnSurfaceInverseBrush}">
                        <AppBarButton.Icon>
                            <BitmapIcon UriSource="ms-appx:///Chefs/Assets/Icons/profile_icon.png" />
                        </AppBarButton.Icon>
                    </AppBarButton>
                    <AppBarButton uen:Navigation.Request="!Notifications" Foreground="{ThemeResource OnSurfaceInverseBrush}">
                        <AppBarButton.Icon>
                            <BitmapIcon UriSource="ms-appx:///Chefs/Assets/Icons/nav_bell_icon.png" />
                        </AppBarButton.Icon>
                    </AppBarButton>
                </utu:NavigationBar.PrimaryCommands>
            </utu:NavigationBar>

            <utu:AutoLayout
                Padding="16,24"
                PrimaryAxisAlignment="Center"
                Spacing="24">
                <TextBox
                    utu:CommandExtensions.Command="{Binding Search}"
                    BorderBrush="{ThemeResource OnSurfaceBrush}"
                    BorderThickness="1"
                    CornerRadius="28"
                    Foreground="{ThemeResource OnSurfaceBrush}"
                    PlaceholderForeground="{ThemeResource OnSurfaceMediumBrush}"
                    PlaceholderText="Search"
                    Style="{StaticResource OutlinedTextBoxStyle}"
                    Text="{Binding Term, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                    <um:ControlExtensions.Icon>
                        <PathIcon Data="{StaticResource Icon_Search}" Foreground="{ThemeResource OnSurfaceLowBrush}" />
                    </um:ControlExtensions.Icon>
                </TextBox>

                <utu:AutoLayout Justify="SpaceBetween" Orientation="Horizontal">
                    <TextBlock
                        utu:AutoLayout.CounterAlignment="Center"
                        Style="{StaticResource BodyLarge}"
                        Text="{Binding Items.Count, Converter={StaticResource StringFormatter}, ConverterParameter='{}{0} results', UpdateSourceTrigger=PropertyChanged}" />
                    <utu:AutoLayout x:Name="FilterButtonHost" DataContext="{Binding Filter}">
                        <Button
                            x:Name="FiltersButton"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            uen:Navigation.Data="{Binding DataContext.Value, ElementName=FilterButtonHost, Mode=TwoWay}"
                            uen:Navigation.Request="!Filter"
                            utu:AutoLayout.CounterAlignment="Center"
                            Content="Filters"
                            CornerRadius="4"
                            Foreground="{ThemeResource PrimaryBrush}"
                            Style="{StaticResource TextButtonStyle}">
                            <um:ControlExtensions.Icon>
                                <PathIcon Data="{StaticResource Icon_Tune}" Foreground="{ThemeResource PrimaryBrush}" />
                            </um:ControlExtensions.Icon>
                        </Button>
                    </utu:AutoLayout>
                </utu:AutoLayout>
            </utu:AutoLayout>

            <utu:AutoLayout
                x:Name="ItemsLayout"
                utu:AutoLayout.CounterAlignment="Stretch"
                utu:AutoLayout.PrimaryAlignment="Stretch">
                <ScrollViewer utu:AutoLayout.PrimaryAlignment="Stretch" VerticalScrollBarVisibility="Hidden">
                    <uer:FeedView
                        x:Name="SearchFeed"
                        NoneTemplate="{StaticResource EmptyTemplate}"
                        Source="{Binding Items}">
                        <DataTemplate>
                            <utu:AutoLayout utu:AutoLayout.PrimaryAlignment="Stretch">
                                <utu:AutoLayout.Resources>
                                    <muxc:UniformGridLayout
                                        x:Key="NarrowGridLayout"
                                        ItemsJustification="SpaceBetween"
                                        ItemsStretch="Fill"
                                        MaximumRowsOrColumns="2"
                                        MinColumnSpacing="10"
                                        MinItemWidth="110"
                                        MinRowSpacing="10" />
                                </utu:AutoLayout.Resources>

                                <muxc:ItemsRepeater
                                    x:Name="SearchRepeater"
                                    Margin="16,0,16,16"
                                    uen:Navigation.Request="SearchRecipeDetails"
                                    ItemTemplate="{StaticResource RecipeTemplate}"
                                    ItemsSource="{Binding Data}"
                                    Layout="{StaticResource NarrowGridLayout}" />
                            </utu:AutoLayout>
                        </DataTemplate>
                    </uer:FeedView>
                </ScrollViewer>
            </utu:AutoLayout>
        </utu:AutoLayout>
    </utu:AutoLayout>
</Page>
