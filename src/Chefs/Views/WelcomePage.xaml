<Page x:Class="Chefs.Views.WelcomePage"
	  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	  xmlns:android="http://uno.ui/android#using:Uno.Toolkit.UI"
	  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	  xmlns:ios="http://uno.ui/ios#using:Uno.Toolkit.UI"
	  xmlns:local="using:Chefs.Views"
	  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	  xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
	  xmlns:uen="using:Uno.Extensions.Navigation.UI"
	  xmlns:uer="using:Uno.Extensions.Reactive.UI"
	  xmlns:ut="using:Uno.Themes"
	  xmlns:utu="using:Uno.Toolkit.UI"
	  android:StatusBar.Background="{ThemeResource SurfaceBrush}"
	  android:StatusBar.Foreground="Auto"
	  ios:StatusBar.Foreground="Auto"
	  utu:SafeArea.Insets="VisibleBounds"
	  Background="{ThemeResource SurfaceBrush}"
	  NavigationCacheMode="Required"
	  mc:Ignorable="d android ios">
	<Page.Resources>
		<DataTemplate x:Key="PipsAndButtonsTemplate">
			<utu:AutoLayout Grid.Row="1"
							Padding="32,0,32,15"
							PrimaryAxisAlignment="End"
							Spacing="16">
				<!-- Pips -->
				<muxc:PipsPager x:Name="PipsPager"
								Margin="0,0,0,10"
								utu:AutoLayout.CounterAlignment="Center"
								NumberOfPages="3"
								MaxVisiblePips="3"
								Orientation="Horizontal"
								SelectedPageIndex="{Binding Pages.CurrentIndex, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
								Style="{StaticResource PipsPagerStyle}" />

				<!-- Buttons -->
				<!--
					WORKAROUND
					Binding to the Steps.Value property instead of directly on the Steps entity until
					https://github.com/unoplatform/uno.extensions/issues/2391 is fixed
				-->
				<utu:AutoLayout Spacing="16"
								PrimaryAxisAlignment="Center">
					<utu:AutoLayout Spacing="16"
									PrimaryAxisAlignment="Center"
									CounterAxisAlignment="Center"
									Orientation="Horizontal">
						<Button HorizontalContentAlignment="Center"
								VerticalContentAlignment="Center"
								Content="Previous"
								Padding="24,20"
								utu:AutoLayout.PrimaryAlignment="Stretch"
								Height="59"
								utu:FlipViewExtensions.Previous="{Binding ElementName=flipView}"
								Foreground="{ThemeResource PrimaryBrush}"
								CornerRadius="4"
								BorderBrush="{ThemeResource OutlineBrush}"
								BorderThickness="1"
								Style="{StaticResource OutlinedButtonStyle}"
								IsEnabled="{Binding Pages.Value.CanMovePrevious}" />
						<Button HorizontalContentAlignment="Center"
								VerticalContentAlignment="Center"
								Content="Next"
								Padding="24,20"
								utu:FlipViewExtensions.Next="{Binding ElementName=flipView}"
								utu:AutoLayout.PrimaryAlignment="Stretch"
								Height="59"
								Foreground="{ThemeResource OnPrimaryBrush}"
								IsEnabled="{Binding Pages.Value.CanMoveNext}"
								CornerRadius="4" />
					</utu:AutoLayout>
					<Button HorizontalContentAlignment="Center"
							VerticalContentAlignment="Center"
							Content="Skip"
							Padding="12,20"
							uen:Navigation.Request="-/Login"
							Foreground="{ThemeResource PrimaryBrush}"
							CornerRadius="4"
							Style="{StaticResource TextButtonStyle}" />
				</utu:AutoLayout>
			</utu:AutoLayout>
		</DataTemplate>
	</Page.Resources>

	<utu:ResponsiveView>
		<utu:ResponsiveView.NarrowTemplate>
			<DataTemplate>
				<utu:AutoLayout utu:AutoLayout.PrimaryAlignment="Stretch">
					<FlipView x:Name="flipView"
							  utu:AutoLayout.PrimaryAlignment="Stretch"
							  Background="Transparent"
							  SelectedIndex="{Binding Pages.CurrentIndex, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
						<FlipView.Items>
							<!-- First onboarding page -->
							<utu:AutoLayout utu:AutoLayout.PrimaryAlignment="Stretch"
											PrimaryAxisAlignment="Stretch"
											Spacing="24">
								<Image utu:AutoLayout.PrimaryAlignment="Stretch"
									   MaxHeight="270"
									   Source="ms-appx:///Assets/Welcome/first_splash_screen.png"
									   Stretch="UniformToFill" />
								<Image Width="160"
									   Height="90"
									   utu:AutoLayout.CounterAlignment="Center"
									   Source="{ThemeResource ChefsLogoWithIcon}" />
								<TextBlock Foreground="{ThemeResource OnSurfaceBrush}"
										   Style="{StaticResource TitleLarge}"
										   Text="Welcome to Your App!"
										   TextAlignment="Center"
										   Padding="32,0"
										   TextWrapping="Wrap" />
								<TextBlock Foreground="{ThemeResource OnSurfaceBrush}"
										   Style="{StaticResource TitleMedium}"
										   Padding="32,0"
										   Text="Embark on a delightful coding journey as you discover, create, and share awesome script tailored to your app and project preferences."
										   TextAlignment="Center"
										   TextWrapping="Wrap" />
							</utu:AutoLayout>
							<!-- Second onboarding page -->
							<utu:AutoLayout utu:AutoLayout.PrimaryAlignment="Stretch"
											PrimaryAxisAlignment="Stretch"
											Spacing="24">
								<Image utu:AutoLayout.PrimaryAlignment="Stretch"
									   MaxHeight="270"
									   Source="ms-appx:///Assets/Welcome/second_splash_screen.png"
									   Stretch="UniformToFill" />
								<Image Width="160"
									   Height="90"
									   utu:AutoLayout.CounterAlignment="Center"
									   Source="{ThemeResource ChefsLogoWithIcon}" />
								<TextBlock Foreground="{ThemeResource OnSurfaceBrush}"
										   Style="{StaticResource TitleLarge}"
										   Text="Explore Thousands of Recipes"
										   Padding="32,0"
										   TextAlignment="Center"
										   TextWrapping="Wrap" />
								<TextBlock Foreground="{ThemeResource OnSurfaceBrush}"
										   Style="{StaticResource TitleMedium}"
										   Padding="32,0"
										   Text="Find your next culinary adventure or last minute lunch from our vast collection of diverse and mouth-watering recipes."
										   TextAlignment="Center"
										   TextWrapping="Wrap" />
							</utu:AutoLayout>
							<!-- Third onboarding page -->
							<utu:AutoLayout utu:AutoLayout.PrimaryAlignment="Stretch"
											PrimaryAxisAlignment="Stretch"
											Spacing="24">
								<Image utu:AutoLayout.PrimaryAlignment="Stretch"
									   MaxHeight="270"
									   Source="ms-appx:///Assets/Welcome/third_splash_screen.png"
									   Stretch="UniformToFill" />
								<Image Width="160"
									   Height="90"
									   utu:AutoLayout.CounterAlignment="Center"
									   Source="{ThemeResource ChefsLogoWithIcon}" />
								<TextBlock Foreground="{ThemeResource OnSurfaceBrush}"
										   Style="{StaticResource TitleLarge}"
										   Padding="32,0"
										   Text="Personalize Your Recipe Journey"
										   TextAlignment="Center"
										   TextWrapping="Wrap" />
								<TextBlock Foreground="{ThemeResource OnSurfaceBrush}"
										   Style="{StaticResource TitleMedium}"
										   Padding="32,0"
										   Text="Create your own recipe collections, cookbooks, follow other foodies, and share your creations with the Chefs community."
										   TextAlignment="Center"
										   TextWrapping="Wrap" />
							</utu:AutoLayout>
						</FlipView.Items>
					</FlipView>

					<!-- Pips and Buttons -->
					<muxc:ContentPresenter ContentTemplate="{StaticResource PipsAndButtonsTemplate}" />
				</utu:AutoLayout>
			</DataTemplate>
		</utu:ResponsiveView.NarrowTemplate>

		<utu:ResponsiveView.WideTemplate>
			<DataTemplate>
				<utu:AutoLayout Background="{ThemeResource SurfaceBrush}"
								Orientation="Horizontal"
								PrimaryAxisAlignment="Stretch">
					<Grid utu:AutoLayout.PrimaryAlignment="Stretch">
						<FlipView x:Name="MyImages"
								  Background="Transparent"
								  IsEnabled="False"
								  SelectedIndex="{Binding Pages.CurrentIndex, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
							<FlipView.Items>
								<!-- First Splash image -->
								<Grid utu:AutoLayout.PrimaryAlignment="Stretch">
									<Image utu:AutoLayout.PrimaryAlignment="Stretch"
										   Source="ms-appx:///Assets/Welcome/first_splash_wide_screen.png"
										   Stretch="UniformToFill" />
								</Grid>
								<!-- Second Splash image -->
								<Grid utu:AutoLayout.PrimaryAlignment="Stretch">
									<Image Source="ms-appx:///Assets/Welcome/second_splash_wide_screen.png"
										   Stretch="UniformToFill" />
								</Grid>
								<!-- Third Splash image -->
								<Grid utu:AutoLayout.PrimaryAlignment="Stretch">
									<Image Source="ms-appx:///Assets/Welcome/third_splash_wide_screen.png"
										   Stretch="UniformToFill" />
								</Grid>
							</FlipView.Items>
						</FlipView>
					</Grid>

					<utu:AutoLayout utu:AutoLayout.PrimaryAlignment="Stretch">
						<Grid utu:AutoLayout.PrimaryAlignment="Stretch">
							<FlipView x:Name="flipView"
									  utu:AutoLayout.PrimaryAlignment="Stretch"
									  Background="Transparent"
									  SelectedIndex="{Binding Pages.CurrentIndex, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
								<FlipView.Items>
									<!-- First onboarding page -->
									<utu:AutoLayout Padding="32,0"
													MaxWidth="500"
													utu:AutoLayout.PrimaryAlignment="Stretch"
													PrimaryAxisAlignment="Center"
													Spacing="24">
										<Image Width="160"
											   Height="90"
											   utu:AutoLayout.CounterAlignment="Center"
											   Source="{ThemeResource ChefsLogoWithIcon}" />
										<TextBlock Foreground="{ThemeResource OnSurfaceBrush}"
												   Style="{StaticResource TitleLarge}"
												   Text="Welcome to Your App!"
												   TextAlignment="Center"
												   TextWrapping="Wrap" />
										<TextBlock Foreground="{ThemeResource OnSurfaceBrush}"
												   Style="{StaticResource TitleMedium}"
												   Text="Embark on a delightful coding journey as you discover, create, and share awesome script tailored to your app and project preferences."
												   TextAlignment="Center"
												   TextWrapping="Wrap" />
									</utu:AutoLayout>
									<!-- Second onboarding page -->
									<utu:AutoLayout MaxWidth="500"
													Padding="32,0"
													utu:AutoLayout.PrimaryAlignment="Stretch"
													PrimaryAxisAlignment="Center"
													Spacing="24">
										<Image Width="160"
											   Height="90"
											   utu:AutoLayout.CounterAlignment="Center"
											   Source="{ThemeResource ChefsLogoWithIcon}" />
										<TextBlock Foreground="{ThemeResource OnSurfaceBrush}"
												   Style="{StaticResource TitleLarge}"
												   Text="Explore Thousands of Recipes"
												   TextAlignment="Center"
												   TextWrapping="Wrap" />
										<TextBlock Foreground="{ThemeResource OnSurfaceBrush}"
												   Style="{StaticResource TitleMedium}"
												   Text="Find your next culinary adventure or last minute lunch from our vast collection of diverse and mouth-watering recipes."
												   TextAlignment="Center"
												   TextWrapping="Wrap" />
									</utu:AutoLayout>
									<!-- Third onboarding page -->
									<utu:AutoLayout MaxWidth="500"
													Padding="32,0"
													utu:AutoLayout.PrimaryAlignment="Stretch"
													PrimaryAxisAlignment="Center"
													Spacing="24">
										<Image Width="160"
											   Height="90"
											   utu:AutoLayout.CounterAlignment="Center"
											   Source="{ThemeResource ChefsLogoWithIcon}" />
										<TextBlock Foreground="{ThemeResource OnSurfaceBrush}"
												   Style="{StaticResource TitleLarge}"
												   Text="Personalize Your Recipe Journey"
												   TextAlignment="Center"
												   TextWrapping="Wrap" />
										<TextBlock Foreground="{ThemeResource OnSurfaceBrush}"
												   Style="{StaticResource TitleMedium}"
												   Text="Create your own recipe collections, cookbooks, follow other foodies, and share your creations with the Chefs community."
												   TextAlignment="Center"
												   TextWrapping="Wrap" />
									</utu:AutoLayout>
								</FlipView.Items>
							</FlipView>
						</Grid>

						<!-- Pips and Buttons -->
						<muxc:ContentPresenter ContentTemplate="{StaticResource PipsAndButtonsTemplate}" />
					</utu:AutoLayout>
				</utu:AutoLayout>
			</DataTemplate>
		</utu:ResponsiveView.WideTemplate>
	</utu:ResponsiveView>
</Page>
