<Page x:Class="Chefs.Views.RecipeDetailsPage"
	  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	  xmlns:local="using:Chefs.Views"
	  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	  xmlns:uer="using:Uno.Extensions.Reactive.UI"
	  xmlns:utu="using:Uno.Toolkit.UI"
	  xmlns:um="using:Uno.Material"
	  xmlns:toolkit="using:Uno.UI.Toolkit"
	  xmlns:uen="using:Uno.Extensions.Navigation.UI"
	  xmlns:win="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	  xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
	  mc:Ignorable="d"
	  xmlns:not_mobile="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	  NavigationCacheMode="Enabled"
	  Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
	  VerticalAlignment="Stretch"
	  HorizontalAlignment="Stretch">

	<Page.Resources>
		<x:String x:Key="Icon_Arrow_Back">F1 M 16 7 L 3.8299999237060547 7 L 9.420000076293945 1.4099998474121094 L 8 0 L 0 8 L 8 16 L 9.40999984741211 14.59000015258789 L 3.8299999237060547 9 L 16 9 L 16 7 Z</x:String>
		<x:String x:Key="Icon_Favorite_Border">F1 M 14.5 0 C 12.759999990463257 0 11.090000033378601 0.8100001811981201 10 2.0900001525878906 C 8.909999966621399 0.8100001811981201 7.240000009536743 0 5.5 0 C 2.4200000762939453 0 0 2.4200000762939453 0 5.5 C 0 9.27999997138977 3.4000000953674316 12.36000108718872 8.550000190734863 17.040000915527344 L 10 18.350000381469727 L 11.449999809265137 17.030000686645508 C 16.59999990463257 12.360000610351562 20 9.27999997138977 20 5.5 C 20 2.4200000762939453 17.579999923706055 0 14.5 0 Z M 10.100000381469727 15.549999237060547 L 10 15.649999618530273 L 9.899999618530273 15.549999237060547 C 5.1399993896484375 11.239999294281006 2 8.390000104904175 2 5.5 C 2 3.5 3.5 2 5.5 2 C 7.039999961853027 2 8.539999723434448 2.9900001287460327 9.069999694824219 4.360000133514404 L 10.9399995803833 4.360000133514404 C 11.459999561309814 2.9900001287460327 12.960000038146973 2 14.5 2 C 16.5 2 18 3.5 18 5.5 C 18 8.390000104904175 14.860000610351562 11.239999294281006 10.100000381469727 15.549999237060547 Z</x:String>
		<x:String x:Key="Icon_Local_Fire_Department">F1 M 15.479999542236328 10.854046821594238 C 13.90999948978424 6.774046897888184 8.320000052452087 6.554046332836151 9.670000076293945 0.6240465044975281 C 9.770000077784061 0.18404650688171387 9.300000071525574 -0.1559533178806305 8.920000076293945 0.07404668629169464 C 5.289999961853027 2.2140467911958694 2.679999828338623 6.504046440124512 4.869999885559082 12.124046325683594 C 5.049999892711639 12.584046334028244 4.509999871253967 13.014046490192413 4.119999885559082 12.714046478271484 C 2.309999942779541 11.344046473503113 2.1200002133846283 9.374046444892883 2.2800002098083496 7.964046478271484 C 2.340000208467245 7.444046497344971 1.6599998772144318 7.194046318531036 1.369999885559082 7.624046325683594 C 0.6899998784065247 8.664046287536621 0 10.344046354293823 0 12.874046325683594 C 0.3799999952316284 18.474046230316162 5.110000371932983 20.19404724240303 6.810000419616699 20.414047241210938 C 9.240000486373901 20.724047243595123 11.87000024318695 20.274048328399658 13.760000228881836 18.544048309326172 C 15.84000015258789 16.61404836177826 16.5999995470047 13.53404688835144 15.479999542236328 10.854046821594238 Z M 6.199999809265137 15.884045600891113 C 7.639999866485596 15.534045606851578 8.379999920725822 14.494046151638031 8.579999923706055 13.57404613494873 C 8.909999936819077 12.144046187400818 7.6199997663497925 10.744045972824097 8.489999771118164 8.48404598236084 C 8.819999784231186 10.354045987129211 11.760000228881836 11.524046897888184 11.760000228881836 13.564046859741211 C 11.840000227093697 16.09404683113098 9.099999904632568 18.26404571533203 6.199999809265137 15.884045600891113 Z</x:String>
		<x:String x:Key="Icon_Share">F1 M 15 14.079999923706055 C 14.240000009536743 14.079999923706055 13.560000896453857 14.38000038266182 13.040000915527344 14.850000381469727 L 5.909999847412109 10.699999809265137 C 5.959999848157167 10.469999805092812 6 10.239999994635582 6 10 C 6 9.760000005364418 5.959999848157167 9.530000194907188 5.909999847412109 9.300000190734863 L 12.960000038146973 5.190000057220459 C 13.500000059604645 5.690000057220459 14.209999978542328 6 15 6 C 16.6599999666214 6 18 4.659999966621399 18 3 C 18 1.340000033378601 16.6599999666214 0 15 0 C 13.340000033378601 0 12 1.340000033378601 12 3 C 12 3.239999994635582 12.040000151842833 3.4699998050928116 12.09000015258789 3.6999998092651367 L 5.039999961853027 7.810000419616699 C 4.499999940395355 7.310000419616699 3.790000021457672 7 3 7 C 1.340000033378601 7 0 8.340000033378601 0 10 C 0 11.659999966621399 1.340000033378601 13 3 13 C 3.790000021457672 13 4.499999940395355 12.6899995803833 5.039999961853027 12.1899995803833 L 12.15999984741211 16.350000381469727 C 12.109999846667051 16.560000374913216 12.079999923706055 16.780000001192093 12.079999923706055 17 C 12.079999923706055 18.610000014305115 13.389999985694885 19.920000076293945 15 19.920000076293945 C 16.610000014305115 19.920000076293945 17.920000076293945 18.610000014305115 17.920000076293945 17 C 17.920000076293945 15.389999985694885 16.610000014305115 14.079999923706055 15 14.079999923706055 Z</x:String>
		<x:String x:Key="Icon_Star_Rate">F1 M 12.430000305175781 8 L 10 0 L 7.569999694824219 8 L 0 8 L 6.180000305175781 12.40999984741211 L 3.8299999237060547 20 L 10 15.309999465942383 L 16.18000030517578 20 L 13.829999923706055 12.40999984741211 L 20 8 L 12.430000305175781 8 Z</x:String>
		<x:String x:Key="Icon_Timer">F1 M 12 0 L 6 0 L 6 2 L 12 2 L 12 0 Z M 8 13 L 10 13 L 10 7 L 8 7 L 8 13 Z M 16.030000686645508 6.389999866485596 L 17.450000762939453 4.96999979019165 C 17.020000755786896 4.4599997997283936 16.5500009059906 3.979999929666519 16.040000915527344 3.559999942779541 L 14.620000839233398 4.980000019073486 C 13.070000886917114 3.740000009536743 11.119999885559082 3 9 3 C 4.03000020980835 3 0 7.03000020980835 0 12 C 0 16.96999979019165 4.019999980926514 21 9 21 C 13.980000019073486 21 18 16.96999979019165 18 12 C 18 9.880000114440918 17.260000705718994 7.929999828338623 16.030000686645508 6.389999866485596 Z M 9 19 C 5.130000114440918 19 2 15.869999885559082 2 12 C 2 8.130000114440918 5.130000114440918 5 9 5 C 12.869999885559082 5 16 8.130000114440918 16 12 C 16 15.869999885559082 12.869999885559082 19 9 19 Z</x:String>
		<x:String x:Key="Icon_Thumb_Down_Off_Alt">F1 M 6.667500257492065 10.71000051498413 L 7.0950000286102295 8.542500257492065 C 7.185000026598573 8.100000277161598 7.064999967813492 7.642499662935734 6.7799999713897705 7.297499656677246 C 6.494999974966049 6.952499650418758 6.075000017881393 6.75 5.625 6.75 L 1.5 6.75 L 1.5 5.940000057220459 L 3.4275001287460327 1.5 L 9.494999885559082 1.5 C 9.6299998909235 1.5 9.75 1.6200001090765 9.75 1.755000114440918 L 9.75 7.635000228881836 L 6.667500257492065 10.71000051498413 Z M 6 13.5 L 10.807499885559082 8.692500114440918 C 11.092499881982803 8.407500118017197 11.25 8.025000035762787 11.25 7.627500057220459 L 11.25 1.755000114440918 C 11.25 0.7875001430511475 10.462499856948853 0 9.494999885559082 0 L 3.4199999570846558 0 C 2.88749997317791 0 2.400000125169754 0.27749982476234436 2.130000114440918 0.7274998426437378 L 0.12750005722045898 5.3399999141693115 C 0.04500005766749382 5.5274999141693115 0 5.730000056326389 0 5.940000057220459 L 0 6.75 C 0 7.575000017881393 0.6749999821186066 8.25 1.5 8.25 L 5.625 8.25 L 4.934999942779541 11.737499713897705 C 4.8974999422207475 11.902499713003635 4.919999884441495 12.082499597221613 4.994999885559082 12.232499599456787 C 5.167499888688326 12.56999959051609 5.3849999606609344 12.877500504255295 5.6549999713897705 13.14750051498413 L 6 13.5 Z M 13.5 8.25 L 15 8.25 L 15 0 L 13.5 0 C 13.087499991059303 0 12.75 0.3374999910593033 12.75 0.75 L 12.75 7.5 C 12.75 7.912500008940697 13.087499991059303 8.25 13.5 8.25 Z</x:String>
		<x:String x:Key="Icon_Thumb_Up_Off_Alt">F1 M 8.332499742507935 2.789999842643738 L 7.9049999713897705 4.957499742507935 C 7.814999973401427 5.399999722838402 7.935000032186508 5.857500337064266 8.22000002861023 6.202500343322754 C 8.50500002503395 6.547500349581242 8.924999982118607 6.75 9.375 6.75 L 13.5 6.75 L 13.5 7.559999942779541 L 11.572500228881836 12 L 5.505000114440918 12 C 5.3700001090765 12 5.25 11.8799998909235 5.25 11.744999885559082 L 5.25 5.864999771118164 L 8.332499742507935 2.789999842643738 L 8.332499742507935 2.789999842643738 Z M 9 0 L 4.192500114440918 4.807499885559082 C 3.9075001180171967 5.092499881982803 3.75 5.474999964237213 3.75 5.872499942779541 L 3.75 11.744999885559082 C 3.75 12.712499856948853 4.5375001430511475 13.5 5.505000114440918 13.5 L 11.580000400543213 13.5 C 12.112500384449959 13.5 12.599999874830246 13.222500532865524 12.869999885559082 12.77250051498413 L 14.872499942779541 8.160000085830688 C 14.954999942332506 7.9725000858306885 15 7.769999943673611 15 7.559999942779541 L 15 6.75 C 15 5.924999982118607 14.325000017881393 5.25 13.5 5.25 L 9.375 5.25 L 10.065000057220459 1.7624999284744263 C 10.102500057779253 1.597499929368496 10.080000115558505 1.4175000451505184 10.005000114440918 1.2675000429153442 C 9.832500111311674 0.930000051856041 9.615000039339066 0.6225000321865082 9.34500002861023 0.3525000214576721 L 9 0 Z M 1.5 5.25 L 0 5.25 L 0 13.5 L 1.5 13.5 C 1.9125000089406967 13.5 2.25 13.162500008940697 2.25 12.75 L 2.25 6 C 2.25 5.587499991059303 1.9125000089406967 5.25 1.5 5.25 Z</x:String>
		<x:String x:Key="Icon_Edit">F1 M 0 10.689374307777618 L 0 13.501874923706055 L 2.8125 13.501874923706055 L 11.107499599456787 5.206874544314932 L 8.295000314712524 2.394375001270064 L 0 10.689374307777618 Z M 13.282499313354492 3.03187490723031 C 13.574999302625656 2.7393749282891826 13.574999302625656 2.266875037959408 13.282499313354492 1.97437505901828 L 11.527500629425049 0.21937498420584567 C 11.235000640153885 -0.07312499473528189 10.762499302625656 -0.07312499473528189 10.469999313354492 0.21937498420584567 L 9.097500085830688 1.591874900865419 L 11.909999370574951 4.404374801538142 L 13.282499313354492 3.03187490723031 L 13.282499313354492 3.03187490723031 Z</x:String>
		<DataTemplate x:Key="EmptyTemplate">
			<UserControl>
				<utu:AutoLayout Padding="16,24" 
								PrimaryAxisAlignment="Center" 
								utu:AutoLayout.PrimaryAlignment="Stretch">
					<utu:AutoLayout Spacing="24" 
									Padding="32,0" 
									PrimaryAxisAlignment="Center">
						<Image Source="ms-appx:///Chefs/Assets/Icons/no_review.png" 
							   utu:AutoLayout.CounterAlignment="Center" 
							   Width="72"
							   Height="72" />
						<TextBlock TextAlignment="Center" 
								   TextWrapping="Wrap" 
								   Text="No Reviews Yet" 
								   Foreground="{ThemeResource OnSurfaceBrush}" 
								   Style="{StaticResource TitleLarge}" />
						<Button HorizontalContentAlignment="Center"
								VerticalContentAlignment="Center" 
								Content="Add comment" 
								utu:AutoLayout.CounterAlignment="Center"
								Foreground="{ThemeResource PrimaryBrush}"
								CornerRadius="4" 
								Style="{StaticResource TextButtonStyle}"
								Command="{Binding Review}">
							<um:ControlExtensions.Icon>
								<PathIcon Data="{StaticResource Icon_Edit}" 
										  Foreground="{ThemeResource PrimaryBrush}" />
							</um:ControlExtensions.Icon>
						</Button>
					</utu:AutoLayout>
				</utu:AutoLayout>
			</UserControl>
		</DataTemplate>
	</Page.Resources>
	<utu:AutoLayout Background="{ThemeResource BackgroundBrush}">
		<utu:AutoLayout utu:AutoLayout.PrimaryAlignment="Stretch">
			<utu:NavigationBar x:Name="NavBar"
							   Background="{ThemeResource SurfaceInverseBrush}"
							   Style="{StaticResource PrimaryModalNavigationBarStyle}"
							   Content="{Binding Recipe.Name}"
							   toolkit:UIElementExtensions.Elevation="0">
				<utu:NavigationBar.MainCommand>
					<AppBarButton>
						<not_mobile:AppBarButton.Icon>
							<PathIcon Data="{StaticResource Icon_Arrow_Back}" />
						</not_mobile:AppBarButton.Icon>
					</AppBarButton>
				</utu:NavigationBar.MainCommand>
				<utu:NavigationBar.PrimaryCommands>
					<AppBarButton>
						<AppBarButton.Icon>
							<BitmapIcon UriSource="ms-appx:///Chefs/Assets/Icons/share_recipe.png"
										Foreground="{ThemeResource OnPrimaryBrush}" />
						</AppBarButton.Icon>
					</AppBarButton>
					<AppBarButton>
						<AppBarButton.Icon>
							<BitmapIcon UriSource="ms-appx:///Chefs/Assets/Icons/favorite_heart.png"
										Foreground="{ThemeResource OnPrimaryBrush}" />
						</AppBarButton.Icon>
					</AppBarButton>
				</utu:NavigationBar.PrimaryCommands>
			</utu:NavigationBar>
			<utu:AutoLayout>
				<utu:AutoLayout Spacing="8" 
								Padding="16" 
								Orientation="Horizontal" 
								utu:AutoLayout.CounterAlignment="Start"
								Width="390">
					<PersonPicture ProfilePicture="{Binding User.UrlProfileImage}"
								   utu:AutoLayout.CounterAlignment="Center" 
								   Width="32" 
								   Height="32" />
					
					<TextBlock Text="{Binding User.FullName, Converter={StaticResource StringFormatter}, ConverterParameter='By {0}'}"
							   utu:AutoLayout.CounterAlignment="Center" 
							   Style="{StaticResource BodySmall}" />
				</utu:AutoLayout>
				<utu:AutoLayout Spacing="8" 
								utu:AutoLayout.CounterAlignment="Stretch" 
								Height="250">
					<Image Source="{Binding Recipe.ImageUrl}" 
						   Stretch="UniformToFill" 
						   utu:AutoLayout.CounterAlignment="Start" 
						   Height="195" />
					<utu:AutoLayout utu:AutoLayout.IsIndependentLayout="True"
									Margin="16,159,16,0" 
									VerticalAlignment="Top" 
									HorizontalAlignment="Center" 
									Width="358" 
									Height="74">
						<utu:AutoLayout Background="{ThemeResource SurfaceBrush}"
										Padding="0,16" 
										CornerRadius="4"
										PrimaryAxisAlignment="Center" 
										Orientation="Horizontal" 
										utu:AutoLayout.IsIndependentLayout="True" 
										VerticalAlignment="Stretch" 
										HorizontalAlignment="Stretch">
							<utu:AutoLayout Spacing="4"
											utu:AutoLayout.CounterAlignment="Start" 
											utu:AutoLayout.PrimaryAlignment="Stretch">
								<PathIcon Data="{StaticResource Icon_Timer}" 
										  utu:AutoLayout.CounterAlignment="Center" 
										  Foreground="{ThemeResource OnSurfaceBrush}" />
								<TextBlock TextAlignment="Center"
										   TextWrapping="Wrap" 
										   Text="{Binding Recipe.CookTime, Converter={StaticResource TimeSpanToStringConverter}}" 
										   Foreground="{ThemeResource OnSurfaceMediumBrush}" 
										   Style="{StaticResource BodySmall}" />
							</utu:AutoLayout>
							<utu:AutoLayout Spacing="4"
											utu:AutoLayout.CounterAlignment="Start" 
											utu:AutoLayout.PrimaryAlignment="Stretch">
								<PathIcon Data="{StaticResource Icon_Star_Rate}"
										  utu:AutoLayout.CounterAlignment="Center" 
										  Foreground="{ThemeResource OnSurfaceBrush}" />
								<TextBlock TextAlignment="Center" 
										   TextWrapping="Wrap" 
										   Text="{Binding Recipe.Difficulty}" 
										   Foreground="{ThemeResource OnSurfaceMediumBrush}" 
										   Style="{StaticResource BodySmall}" />
							</utu:AutoLayout>
							<utu:AutoLayout Spacing="4" 
											utu:AutoLayout.CounterAlignment="Start" 
											utu:AutoLayout.PrimaryAlignment="Stretch">
								<PathIcon Data="{StaticResource Icon_Local_Fire_Department}"
										  utu:AutoLayout.CounterAlignment="Center" 
										  Foreground="{ThemeResource OnSurfaceBrush}" />
								<TextBlock TextAlignment="Center" 
										   TextWrapping="Wrap" 
										   Text="{Binding Recipe.Calories}" 
										   Foreground="{ThemeResource OnSurfaceMediumBrush}" 
										   Style="{StaticResource BodySmall}" />
							</utu:AutoLayout>
						</utu:AutoLayout>
					</utu:AutoLayout>
				</utu:AutoLayout>
			</utu:AutoLayout>
			<ScrollViewer utu:AutoLayout.PrimaryAlignment="Stretch"
						  HorizontalScrollMode="Disabled">
				<utu:AutoLayout x:Name="TabsLayout"
								uen:Region.Attached="True">
					<utu:TabBar Background="{ThemeResource BackgroundBrush}"
								Style="{StaticResource TopTabBarStyle}"
								uen:Region.Attached="True">
						<utu:TabBarItem Content="Ingredients"
										uen:Region.Name="IngredientsTab"
										IsSelected="True"/>
						<utu:TabBarItem Content="Steps" 
										Foreground="{ThemeResource OnSurfaceMediumBrush}" 
										uen:Region.Name="StepsTab"/>
						<utu:TabBarItem Content="Reviews" 
										Foreground="{ThemeResource OnSurfaceMediumBrush}" 
										uen:Region.Name="ReviewsTab"/>
					</utu:TabBar>
					<Grid x:Name="TabNavGrid"
						  uen:Region.Attached="True"
						  uen:Region.Navigator="Visibility">
						
						<utu:AutoLayout uen:Region.Name="IngredientsTab"
										Spacing="8"
										Padding="16,24,16,16">
							<TextBlock TextWrapping="Wrap" 
									   Text="{Binding Ingredients.Count, Converter={StaticResource StringFormatter}, ConverterParameter='{}{0} Items'}" 
									   Style="{StaticResource BodyLarge}" />
							<utu:AutoLayout Spacing="2">
								<uer:FeedView x:Name="IngredientsFeed"
											  Source="{Binding Ingredients}">
									<DataTemplate>
										<muxc:ItemsRepeater utu:AutoLayout.PrimaryAlignment="Stretch"
															ItemsSource="{Binding Data}">
											<muxc:ItemsRepeater.Layout>
												<muxc:StackLayout Orientation="Vertical" 
																  Spacing="2"/>
											</muxc:ItemsRepeater.Layout>
											<muxc:ItemsRepeater.ItemTemplate>
												<DataTemplate>
													<utu:AutoLayout Background="{ThemeResource SurfaceBrush}" 
																	CornerRadius="4" 
																	PrimaryAxisAlignment="Center"
																	Height="60">
														<utu:AutoLayout Spacing="16" 
																		Padding="8,0,16,0" 
																		Orientation="Horizontal">
															<Image Source="{Binding UrlIcon}" 
																   utu:AutoLayout.CounterAlignment="Center" 
																   Width="40"
																   Height="40" />
															<utu:AutoLayout utu:AutoLayout.CounterAlignment="Center" 
																			utu:AutoLayout.PrimaryAlignment="Stretch">
																<TextBlock TextWrapping="Wrap" 
																		   Text="{Binding Name}" 
																		   Foreground="{ThemeResource OnSurfaceBrush}"
																		   Style="{StaticResource TitleMedium}" />
															</utu:AutoLayout>
															<utu:AutoLayout Background="{ThemeResource BackgroundBrush}" 
																			Padding="8" 
																			CornerRadius="4" 
																			PrimaryAxisAlignment="End" 
																			Orientation="Horizontal" 
																			utu:AutoLayout.CounterAlignment="Center">
																<TextBlock TextAlignment="End"
																		   Text="{Binding Quantity}" 
																		   utu:AutoLayout.CounterAlignment="Start" 
																		   Foreground="{ThemeResource OnSecondaryContainerBrush}" 
																		   Style="{StaticResource BodySmall}"/>
															</utu:AutoLayout>
														</utu:AutoLayout>
													</utu:AutoLayout>

												</DataTemplate>
											</muxc:ItemsRepeater.ItemTemplate>
										</muxc:ItemsRepeater>
									</DataTemplate>
								</uer:FeedView>
							</utu:AutoLayout>
						</utu:AutoLayout>

						<utu:AutoLayout uen:Region.Name="StepsTab" 
										Spacing="8" 
										Padding="16,24" 
										PrimaryAxisAlignment="Center"
										Visibility="Collapsed">
							<TextBlock TextWrapping="Wrap" 
									   Text="{Binding Steps.Count, Converter={StaticResource StringFormatter}, ConverterParameter='{}{0} Items'}" 
									   Style="{StaticResource BodyLarge}" />
							<utu:AutoLayout Spacing="2">
								<uer:FeedView x:Name="StepsFeed"
											  Source="{Binding Steps}">
									<DataTemplate>
										<muxc:ItemsRepeater ItemsSource="{Binding Data}">
											<muxc:ItemsRepeater.Layout>
												<muxc:StackLayout Orientation="Vertical" 
																  Spacing="2"/>
											</muxc:ItemsRepeater.Layout>
											<muxc:ItemsRepeater.ItemTemplate>
												<DataTemplate>
													<utu:AutoLayout Background="{ThemeResource SurfaceBrush}" 
																	CornerRadius="4">
														<utu:AutoLayout Spacing="8" 
																		Padding="16" 
																		PrimaryAxisAlignment="Center">
															<TextBlock TextWrapping="Wrap" 
																	   Text="{Binding Name}" 
																	   Foreground="{ThemeResource OnSurfaceBrush}" 
																	   Style="{StaticResource TitleSmall}" />
															<TextBlock TextWrapping="Wrap" 
																	   Text="{Binding Description}" 
																	   Foreground="{ThemeResource OnSurfaceMediumBrush}" />
														</utu:AutoLayout>
													</utu:AutoLayout>
												</DataTemplate>
											</muxc:ItemsRepeater.ItemTemplate>
										</muxc:ItemsRepeater>
									</DataTemplate>
								</uer:FeedView>
							</utu:AutoLayout>
						</utu:AutoLayout>

						<utu:AutoLayout uen:Region.Name="ReviewsTab" 
										Spacing="8" 
										Padding="16,24" 
										PrimaryAxisAlignment="Center" 
										Visibility="Collapsed">
							<TextBlock TextWrapping="Wrap" 
									   Text="{Binding Reviews.Count, Converter={StaticResource StringFormatter}, ConverterParameter='{}{0} Comments'}"
									   Style="{StaticResource BodyLarge}" 
									   Visibility="{Binding Reviews.Count, Converter={StaticResource GreaterThanZeroToVisibleConverter}}"/>
							<utu:AutoLayout Spacing="2">
								<uer:FeedView x:Name="ReviewsFeed"
											  Source="{Binding Reviews}"
											  NoneTemplate="{StaticResource EmptyTemplate}">
									<DataTemplate>
										<muxc:ItemsRepeater ItemsSource="{Binding Data}">
											<muxc:ItemsRepeater.Layout>
												<muxc:StackLayout Orientation="Vertical" 
																  Spacing="2"/>
											</muxc:ItemsRepeater.Layout>
											<muxc:ItemsRepeater.ItemTemplate>
												<DataTemplate>
													<utu:AutoLayout Background="{ThemeResource SurfaceBrush}" 
																	CornerRadius="4">
														<utu:AutoLayout Spacing="16" 
																		Padding="16" 
																		Orientation="Horizontal">
															<PersonPicture utu:AutoLayout.CounterAlignment="Start"
																		   Width="60" 
																		   Height="60" 
																		   ProfilePicture="{Binding UrlAuthorImage}"/>
															<utu:AutoLayout utu:AutoLayout.CounterAlignment="Start" 
																			utu:AutoLayout.PrimaryAlignment="Stretch">
																<utu:AutoLayout Spacing="8"
																				PrimaryAxisAlignment="Center">
																	<TextBlock TextWrapping="Wrap" 
																			   Text="{Binding Description}" 
																			   Foreground="{ThemeResource OnSurfaceBrush}" 
																			   Style="{StaticResource TextMediumWithLineSpacing}" />
																	<TextBlock TextWrapping="Wrap"
																			   Text="{Binding PublisherName}" 
																			   Foreground="{ThemeResource OnSurfaceMediumBrush}" />
																</utu:AutoLayout>
																<utu:AutoLayout Spacing="8" 
																				Padding="0,16,0,16" 
																				Orientation="Horizontal" 
																				utu:AutoLayout.CounterAlignment="Start">
																	<Button HorizontalContentAlignment="Center"
																			VerticalContentAlignment="Center" 
																			Content="{Binding Likes.Count}" 
																			utu:AutoLayout.CounterAlignment="Start" 
																			Foreground="{ThemeResource PrimaryBrush}" 
																			CornerRadius="20" 
																			Style="{StaticResource TextButtonStyle}"
																			Command="{utu:AncestorBinding AncestorType=uer:FeedView, Path=DataContext.Like}"
																			CommandParameter="{Binding}">
																		<um:ControlExtensions.Icon>
																			<PathIcon Data="{StaticResource Icon_Thumb_Up_Off_Alt}" 
																					  Foreground="{ThemeResource PrimaryBrush}" />
																		</um:ControlExtensions.Icon>
																	</Button>
																	<Button HorizontalContentAlignment="Center" 
																			VerticalContentAlignment="Center"
																			Content="{Binding Dislikes.Count}"
																			utu:AutoLayout.CounterAlignment="Start"
																			Foreground="{ThemeResource PrimaryBrush}" 
																			CornerRadius="20"
																			Style="{StaticResource TextButtonStyle}"
																			Command="{utu:AncestorBinding AncestorType=uer:FeedView, Path=DataContext.Dislike}"
																			CommandParameter="{Binding}">
																		<um:ControlExtensions.Icon>
																			<PathIcon Data="{StaticResource Icon_Thumb_Down_Off_Alt}"
																					  Foreground="{ThemeResource PrimaryBrush}" />
																		</um:ControlExtensions.Icon>
																	</Button>
																</utu:AutoLayout>
															</utu:AutoLayout>
														</utu:AutoLayout>
													</utu:AutoLayout>
												</DataTemplate>
											</muxc:ItemsRepeater.ItemTemplate>
										</muxc:ItemsRepeater>
									</DataTemplate>
								</uer:FeedView>
							</utu:AutoLayout>
						</utu:AutoLayout>
					</Grid>
				</utu:AutoLayout>
			</ScrollViewer>
		</utu:AutoLayout>
		<utu:AutoLayout Background="{ThemeResource SurfaceBrush}"
						Padding="16,24" 
						utu:AutoLayout.CounterAlignment="Stretch" 
						Height="107">
			<Button Content="Start Cooking!"
					utu:AutoLayout.CounterAlignment="Center" 
					Width="358" 
					Height="59" 
					CornerRadius="4"
					Command="{Binding LiveCooking}" />
		</utu:AutoLayout>
	</utu:AutoLayout>
</Page>
