<?xml version="1.0" encoding="utf-8" ?>
<UserControl x:Class="Chefs.Views.Controls.PopularControl"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:local="using:Chefs.Views"
			 xmlns:lvc="using:LiveChartsCore.SkiaSharpView.WinUI"
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 xmlns:utu="using:Uno.Toolkit.UI"
			 xmlns:uer="using:Uno.Extensions.Reactive.UI"
			 xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
			 mc:Ignorable="d">
	
	<uer:FeedView x:Name="PopularCreatorsFeedView"
				  Source="{Binding PopularCreators}">
		<DataTemplate>
			<ScrollViewer Padding="16,0"
						  HorizontalScrollMode="Auto"
						  HorizontalScrollBarVisibility="Auto"
						  VerticalScrollMode="Disabled"
						  VerticalScrollBarVisibility="Disabled"
						  utu:AutoLayout.PrimaryAlignment="Stretch">
				<muxc:ItemsRepeater ItemsSource="{Binding Data}"
									utu:CommandExtensions.Command="{Binding Parent.ShowProfile}">
					<muxc:ItemsRepeater.Layout>
						<muxc:StackLayout Orientation="Horizontal"
										  Spacing="16" />
					</muxc:ItemsRepeater.Layout>
					<muxc:ItemsRepeater.ItemTemplate>
						<DataTemplate>
							<utu:CardContentControl Margin="0"
													Style="{StaticResource FilledCardContentControlStyle}">
								<utu:AutoLayout Background="{ThemeResource BackgroundBrush}"
												PrimaryAxisAlignment="Center">
									<utu:AutoLayout Spacing="8"
													Orientation="{utu:Responsive Narrow=Vertical,
																						 Wide=Horizontal}"
													CornerRadius="12"
													Padding="10,8"
													utu:AutoLayout.CounterAlignment="Center">
										<Border utu:AutoLayout.CounterAlignment="Center"
												Width="96"
												Height="96"
												CornerRadius="80">
											<Image Source="{Binding UrlProfileImage}"
												   Stretch="UniformToFill" />
										</Border>
										<utu:AutoLayout Spacing="4"
														PrimaryAxisAlignment="Center">
											<TextBlock TextAlignment="{utu:Responsive Narrow=Center,
																							  Wide=Start}"
													   TextWrapping="Wrap"
													   Text="{Binding FullName}"
													   Foreground="{ThemeResource OnSurfaceBrush}"
													   Style="{StaticResource TitleSmall}" />

											<TextBlock TextAlignment="{utu:Responsive Narrow=Center,
																							  Wide=Start}"
													   Text="{Binding Recipes, Converter={StaticResource StringFormatter}, ConverterParameter='{}{0} recipes'}"
													   TextWrapping="Wrap"
													   Foreground="{ThemeResource OnSurfaceLowBrush}"
													   Style="{StaticResource LabelMedium}" />
										</utu:AutoLayout>
									</utu:AutoLayout>
								</utu:AutoLayout>
							</utu:CardContentControl>
						</DataTemplate>
					</muxc:ItemsRepeater.ItemTemplate>
				</muxc:ItemsRepeater>
			</ScrollViewer>
		</DataTemplate>
	</uer:FeedView>
</UserControl>
